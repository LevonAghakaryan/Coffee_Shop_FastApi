# Coffee Shop API โ

ีีก Coffee Shop-ีซ ีฐีกีดีกึ ีถีกีญีกีฟีฅีฝีพีกีฎ ีบีกึีฆ API ีงี ีฏีกีผีธึึีพีกีฎ Python-ีซ ึ FastAPI-ีซ ีดีซีปีธึีธีพึ ีีกีญีกีฃีซีฎีจ ึีธึึีกีคึีธึีด ีง **ีีธีคีธึีฌีกีตีซีถ ีีธีถีธีฌีซีฟ (Modular Monolith)** ีณีกึีฟีกึีกีบีฅีฟีธึีฉีตีธึีถ, ีธึีฟีฅีฒ ีตีธึึีกึีกีถีนีตีธึึ ีดีธีคีธึีฌ ีซึ ีฐีฅึีฉีซีถ ีฐีฅีฟึีธึีด ีง **ีีฅึีฟีกีพีธึีพีกีฎ (Layered / Clean Architecture)** ีดีธีฟีฅึีดีกีถีจึ

## ีีฅีญีถีธีฌีธีฃีซีกีถีฅึ ๐๏ธ

* **Backend**: Python 3.11+, FastAPI
* **ีีพีตีกีฌีถีฅึีซ ีขีกีฆีก**: MySQL
* **ORM**: SQLAlchemy 2.0
* **ีีพีตีกีฌีถีฅึีซ ีพีกีฌีซีคีกึีธึีด**: Pydantic V2
* **Web Server**: Uvicorn

## ีีกึีฟีกึีกีบีฅีฟีธึีฉีตีธึีถ (Architecture) ๐๏ธ

ีีกีญีกีฃีซีฎีจ ีฏีกีผีธึึีพีกีฎ ีง ีฅึีฏีธึ ีฐีซีดีถีกีฏีกีถ ีณีกึีฟีกึีกีบีฅีฟีกีฏีกีถ ีฝีฏีฆีขีธึีถึีถีฅึีซ ีพึีก, ีธึีธีถึ ีกีบีกีฐีธีพีธึีด ีฅีถ ีฏีธีคีซ ีฏีกีฆีดีกีฏีฅึีบีพีกีฎีธึีฉีตีธึีถ, ีฝีบีกีฝีกึีฏีดีกีถ ีฐีฅีทีฟีธึีฉีตีธึีถ ึ ีดีกีฝีทีฟีกีขีกีตีถีธึีฉีตีธึีถึ

### 1. ิฒีกึีฑึ ีดีกีฏีกึีคีกีฏี ีีธีคีธึีฌีกีตีซีถ ีีธีถีธีฌีซีฟ

ีีกีพีฅีฌีพีกีฎีจ ีดีฅีฏ ีกีดีขีธีฒีปีกีฏีกีถ ีดีซีกีพีธึ ีง (ีดีธีถีธีฌีซีฟ), ีธึีจ ีฐีฅีทีฟ ีง ีฃีธึีฎีกึีฏีฅีฌ ึ ีฟีฅีฒีกีฏีกีตีฅีฌึ ีีกีฏีกีตีถ ีถีฅึีฝีซึ ีกีตีถ ีฟึีกีดีกีขีกีถีธึีฅีถ ีขีกีชีกีถีพีกีฎ ีง ีกีถีฏีกีญ **ีดีธีคีธึีฌีถีฅึีซ** (ึึีซีถีกีฏี `products`, `orders`)ึ ีีธึึีกึีกีถีนีตีธึึ ีดีธีคีธึีฌ ีบีกีฟีกีฝีญีกีถีกีฟีธึ ีง ีขีซีฆีถีฅีฝีซ ีดีฅีฏ ีฏีธีถีฏึีฅีฟ ีฟีซึีธึีตีฉีซ ีฐีกีดีกึึ

**ิฑีผีกีพีฅีฌีธึีฉีตีธึีถีถีฅึีจ:**
* **ิฟีกีฆีดีกีฏีฅึีบีพีกีฎ ีฏีธีค:** ีีฅีทีฟ ีง ีฃีฟีถีฅีฌ ีฏีธีถีฏึีฅีฟ ีฟีซึีธึีตีฉีซีถ ีพีฅึีกีขีฅึีธีฒ ึีกีตีฌีฅึีจึ
* **ีีกีฎึ ีฏีกีบีกีฏึีพีกีฎีธึีฉีตีธึีถ (Low Coupling):** ีีธีคีธึีฌีถีฅึีจ ีฐีถีกึีกีพีธึีซีถีฝ ีกีถีฏีกีญ ีฅีถ ีดีซีดีตีกีถึีซึึ
* **ีีฅีทีฟ ีดีกีฝีทีฟีกีขีกีตีถีธึีฉีตีธึีถ:** ีีธึ ึีธึีถีฏึีซีธีถีกีฌ ีกีพีฅีฌีกึีถีฅีฌีธึ ีฐีกีดีกึ ีบีกึีฆีกีบีฅีฝ ีฝีฟีฅีฒีฎีพีธึีด ีง ีถีธึ ีดีธีคีธึีฌึ

### 2. ีีธีคีธึีฌีซ ีดีกีฏีกึีคีกีฏี ีีฅึีฟีกีพีธึีพีกีฎ ีณีกึีฟีกึีกีบีฅีฟีธึีฉีตีธึีถ

ีีธึึีกึีกีถีนีตีธึึ ีดีธีคีธึีฌ ีซึ ีถีฅึีฝีธึีด ีขีกีชีกีถีพีกีฎ ีง 4 ีฐีซีดีถีกีฏีกีถ ีทีฅึีฟีซ, ีธึีฟีฅีฒ ีตีธึึีกึีกีถีนีตีธึึีถ ีธึีถีซ ีซึ ีฐีฝีฟีกีฏ ีบีกีฟีกีฝีญีกีถีกีฟีพีธึีฉีตีธึีถีจึ

```
โโโโโโโโโโโโโโโโโโโโ      โโโโโโโโโโโโโโโโโโโโ      โโโโโโโโโโโโโโโโโโโโโโ      โโโโโโโโโโโโ
โ Presentation     โโโโโโโโถโ Application      โโโโโโโโถโ Infrastructure     โโโโโโโโถโ Database โ
โ (router.py)      โ      โ (services.py)    โ      โ (repositories.py)  โ      โ (MySQL)  โ
โโโโโโโโโโโโโโโโโโโโ      โโโโโโโโโโโโโโโโโโโโ      โโโโโโโโโโโโโโโโโโโโโโ      โโโโโโโโโโโโ
         โฒ                      โฒ                             โฒ
         โ                      โ                             โ
โโโโโโโโโโโโโโโโโโโโ      โโโโโโโโโโโโโโโโโโโโ      โโโโโโโโโโโโโโโโโโโโ
โ Domain (Schemas) โโโโโโโโค Domain (Schemas) โ      โ Domain (Models)  โ
โโโโโโโโโโโโโโโโโโโโ      โโโโโโโโโโโโโโโโโโโโ      โโโโโโโโโโโโโโโโโโโโ
```

1.  **Presentation Layer (ีีฅึีฏีกีตีกึีดีกีถ ีทีฅึีฟ):**
    * **ีีกีตีฌ:** `router.py`
    * **ิดีฅึีจ:** API endpoint-ีถีฅึีซ ีฝีกีฐีดีกีถีธึีด, HTTP ีฐีกึึีธึีดีถีฅึีซ ีจีถีคีธึีถีธึีด ึ ีบีกีฟีกีฝีญีกีถีถีฅึีซ ีฑึีกีพีธึีธึีดึ ีีก ีดีซีกีฏ ีทีฅึีฟีถ ีง, ีธึีจ ยซีทึีพีธึีดยป ีง ีกึีฟีกึีซีถ ีกีทีญีกึีฐีซ ีฐีฅีฟึ

2.  **Application Layer (ิฒีซีฆีถีฅีฝ ีฟึีกีดีกีขีกีถีธึีฉีตีกีถ ีทีฅึีฟ):**
    * **ีีกีตีฌ:** `services.py`
    * **ิดีฅึีจ:** ีีกีพีฅีฌีพีกีฎีซ ีฐีซีดีถีกีฏีกีถ ีขีซีฆีถีฅีฝ ีฟึีกีดีกีขีกีถีธึีฉีตีกีถ ีซึีกีฏีกีถีกึีธึีดึ ิฑีตีถ ีฐีกีดีกีฏีกึีฃีธึีด ีง ีฃีธึีฎีธีฒีธึีฉีตีธึีถีถีฅึีจี ีฏีกีถีนีฅีฌีธีพ repository-ีถีฅึีซีถึ ีีก ีดีธีคีธึีฌีซ ยซีธึีฒีฅีฒีถยป ีงึ

3.  **Domain Layer (ิดีธีดีฅีตีถีซ ีทีฅึีฟ):**
    * **ีีกีตีฌีฅึ:** `models.py`, `schemas.py`
    * **ิดีฅึีจ:** ีีพีตีกีฌีถีฅึีซ ีฏีกีผีธึึีพีกีฎึีถีฅึีซ ีฝีกีฐีดีกีถีธึีดึ
        * `models.py`: SQLAlchemy ีดีธีคีฅีฌีถีฅึ, ีธึีธีถึ ีถีฏีกึีกีฃึีธึีด ีฅีถ ีฟีพีตีกีฌีถีฅึีซ ีขีกีฆีกีตีซ ีกีฒีตีธึีฝีกีฏีถีฅึีจึ
        * `schemas.py`: Pydantic ีฝีญีฅีดีกีถีฅึ, ีธึีธีถึ ีฐีกีถีคีฅีฝ ีฅีถ ีฃีกีฌีซีฝ ีธึีบีฅีฝ ยซีฟีพีตีกีฌีถีฅึีซ ีซีถีฟีฅึึีฅีตีฝยป API-ีซ ีฐีกีดีกึ (ีพีกีฌีซีคีกึีซีก ึ ีฝีฅึีซีกีฌีซีฆีกึีซีก)ึ

4.  **Infrastructure Layer (ิตีถีฉีกีฏีกีผีธึึีพีกีฎึีซ ีทีฅึีฟ):**
    * **ีีกีตีฌ:** `repositories.py`
    * **ิดีฅึีจ:** ีีพีตีกีฌีถีฅึีซ ีขีกีฆีกีตีซ ีฐีฅีฟ ีธึีฒีซีฒ ีกีทีญีกีฟีกีถึึ ิฑีตีฝ ีทีฅึีฟีจ ีดีฅีฏีธึีฝีกึีถีธึีด ีง ีฟีพีตีกีฌีถีฅึีซ ีฐีฅีฟ ีกีทีญีกีฟีกีถึีซ ีกีดีขีธีฒีป ีฟึีกีดีกีขีกีถีธึีฉีตีธึีถีจ ีฐีกีพีฅีฌีพีกีฎีซ ีดีถีกึีกีฎ ีดีกีฝีซึึ

## ีีกีญีกีฃีฎีซ ิฟีกีผีธึึีพีกีฎึีจ ๐

```sh
coffee_shop/
โโโ app/
โ   โโโ __init__.py
โ   โโโ main.py                 # FastAPI ีฐีกีพีฅีฌีพีกีฎีซ ีฝีฟีฅีฒีฎีธึีด
โ   โโโ core/
โ   โ   โโโ database.py         # SQLAlchemy-ีซ ีฏีธีถึีซีฃีธึึีกึีซีก
โ   โ   โโโ ...
โ   โโโ modules/
โ       โโโ products/           # ยซิฑีบึีกีถึีถีฅึยป ีดีธีคีธึีฌ
โ       โ   โโโ presentation/
โ       โ   โ   โโโ router.py
โ       โ   โโโ application/
โ       โ   โ   โโโ services.py
โ       โ   โโโ domain/
โ       โ   โ   โโโ models.py
โ       โ   โ   โโโ schemas.py
โ       โ   โโโ infrastructure/
โ       โ       โโโ repositories.py
โ       โโโ orders/             # ยซีีกีฟีพีฅึีถีฅึยป ีดีธีคีธึีฌ (ีกีบีกีฃีกีตีธึีด)
โ
โโโ .env.example                # .env ึีกีตีฌีซ ึึีซีถีกีฏ
โโโ requirements.txt            # ีีกีฐีกีถีปีพีธีฒ ีฃึีกีคีกึีกีถีถีฅึ
โโโ ...
```

## ีีฅีฒีกีคึีธึีด ึ ิฟีกึีฃีกีพีธึีธึีด โ๏ธ

1.  **Clone ีกึีฅึ repository-ีถ:**
    ```bash
    git clone <your-repository-url>
    cd <repository-folder>
    ```

2.  **ีีฟีฅีฒีฎีฅึ ึ ีกีฏีฟีซีพีกึึีฅึ ีพีซึีฟีธึีกีฌ ีดีซีปีกีพีกีตึ (virtual environment):**
    ```bash
    # Windows
    python -m venv venv
    .\venv\Scripts\activate

    # macOS / Linux
    python3 -m venv venv
    source venv/bin/activate
    ```

3.  **ีีฅีฒีกีคึีฅึ ีกีถีฐึีกีชีฅีทีฟ ีฃึีกีคีกึีกีถีถีฅึีจ:**
    ```bash
    pip install -r requirements.txt
    ```

4.  **ิฟีกึีฃีกีพีธึีฅึ ีฟีพีตีกีฌีถีฅึีซ ีขีกีฆีกีถ:**
    * ีีกีฟีณีฅีถีฅึ `.env.example` ึีกีตีฌีจ ึ ีกีถีพีกีถีกึีธีญีฅึ ีกีตีถ `.env`ึ
    * `.env` ึีกีตีฌีซ ีดีฅีป ีฌึีกึึีฅึ ีฑีฅึ MySQL ีฟีพีตีกีฌีถีฅึีซ ีขีกีฆีกีตีซ ีดีซีกึีดีกีถ ีฟีพีตีกีฌีถีฅึีจึ
    ```
    DATABASE_URL="mysql+mysqlclient://USER:PASSWORD@HOST/DB_NAME"
    ```

## ิปีถีนีบีฅีฝ ีกีทีญีกีฟีฅึีถีฅีฌ ๐

ีีกีญีกีฃีฎีซ ีฐีซีดีถีกีฏีกีถ ีฉีฒีฉีกีบีกีถีกีฏีซึ ีฃีธึีฎีกึีฏีฅึ ีฐีฅีฟึีตีกีฌ ีฐึีกีดีกีถีจ.

```bash
uvicorn app.main:app --reload
```

ีีกีพีฅีฌีพีกีฎีจ ีฐีกีฝีกีถีฅีฌีซ ีฏีฌีซีถีซ `http://127.0.0.1:8000` ีฐีกีฝึีฅีธีพึ

API-ีซ ีกีพีฟีธีดีกีฟ ัะณะตะฝะตัะธัะพะฒะฐะฝะฝัะน ึีกีฝีฟีกีฉีฒีฉีกีพีธึีธึีดีจ (Swagger UI) ีฏีกึีธีฒ ีฅึ ีฃีฟีถีฅีฌ ีกีตีฝีฟีฅีฒี `http://127.0.0.1:8000/docs`ึ
